<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:h="http://xmlns.jcp.org/jsf/html"
     xmlns:clientregistry="http://xmlns.jcp.org/jsf/composite/clientregistry/list"
     xmlns:f="http://java.sun.com/jsf/core">

   <f:metadata>
       <f:viewParam name="offset" value="#{companyController.offset}" />
   </f:metadata>
   
   <h:head>
       <title>Companies</title>
   </h:head>
   <h:body>

       <clientregistry:company-list newItemOutcome="#{companyController.newItemOutcome}" 
                                    paginationOutcome="companies"
                                    entityType="Company" 
                                    isEmpty="#{empty companyController.entities}"
                                    limit="#{companyController.limit}" 
                                    offset="#{companyController.offset}" 
                                    noEntityMessage="#{companyController.noEntityMessage}">

           <h:dataTable value="#{companyController.getCompaniesList()}" var="companyDTO">
               <h:column>                    
                   <f:facet name="header">Logo</f:facet>                    
                       #{companyDTO.logo}
               </h:column>
               <h:column>
                   <f:facet name="header">Name</f:facet>
                       #{companyDTO.name}
               </h:column>
               <h:column>
                   <f:facet name="header">Tax number</f:facet>
                       #{companyDTO.taxNumber}
               </h:column>
               <h:column>
                   <f:facet name="header">Seat</f:facet>
                       #{companyDTO.address.city}
               </h:column>
               <h:column>
                   <f:facet name="header">Edit</f:facet>
                   <h:link value="Edit" outcome="composite/createCompany.xhtml">
                       <f:param name="entityId" value="#{companyDTO.id}"/>
                   </h:link>
               </h:column>
           </h:dataTable>

       </clientregistry:company-list>
       
   </h:body>
   
</html>
